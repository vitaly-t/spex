<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>spex API</title>
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="style.css">
</head>

<body>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-spex.html">spex</a></li></ul><h3>Externals</h3><ul><li><a href="external-Error.html">Error</a></li><li><a href="external-Promise.html">Promise</a></li><li><a href="external-TypeError.html">TypeError</a></li></ul><h3>Namespaces</h3><ul><li><a href="errors.html">errors</a></li><li><a href="stream.html">stream</a></li></ul><h3>Classes</h3><ul><li><a href="errors.BatchError.html">BatchError</a></li><li><a href="errors.PageError.html">PageError</a></li><li><a href="errors.SequenceError.html">SequenceError</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-batch.html">Batch Processing</a></li><li><a href="tutorial-client.html">Client-Side Usage</a></li><li><a href="tutorial-mixed.html">Mixed Values</a></li><li><a href="tutorial-sequencing.html">Linked and Detached Sequencing</a></li><li><a href="tutorial-streaming.html">Streaming and Paging</a></li><li><a href="tutorial-throttling.html">Data Throttling & Load Balancing</a></li></ul><h3>Global</h3><ul><li><a href="global.html#batch">batch</a></li><li><a href="global.html#page">page</a></li><li><a href="global.html#sequence">sequence</a></li></ul>
    <div class="home-link">
        <a href="https://github.com/vitaly-t/spex">&lt;&lt; GitHub</a>
    </div>
</nav>

<div id="main">
    <section>

<header>
    

    <h2>Streaming and Paging</h2>
</header>

<article>
    <hr>
<p>In generic terms, data streaming is copying data from a source/provider and into a destination/recipient.</p>
<p>In the world of promises this can be formulated as acquiring promises from a source, resolving them and passing
the result into a destination handler for further processing.</p>
<p>And this is one of the things that methods <a href="http://vitaly-t.github.io/spex/global.html#page">page</a> and <a href="http://vitaly-t.github.io/spex/global.html#sequence">sequence</a> can do - resolving and tunnelling data through.
The two methods can handle both limited and infinite streams, and they can stream data either one-by-one (method <a href="http://vitaly-t.github.io/spex/global.html#sequence">sequence</a>)
or in bundles (method <a href="http://vitaly-t.github.io/spex/global.html#page">page</a>).</p>
<h3>Examples</h3>
<p>Below is a simple track-enabled sequence that creates and returns promises one by one.
It also includes a destination function for logging purposes.</p>
<pre class="prettyprint source lang-js"><code>const {sequence} = require('spex');

function source(index, data, delay) {
    // create and return a promise objects dynamically,
    // based on the index of the sequence;
    switch (index) {
        case 0:
            return Promise.resolve('zero');
        case 1:
            return Promise.resolve('one');
        case 2:
            return Promise.resolve('two');
        case 3:
            return Promise.resolve('three');
    }
    // returning nothing/undefined indicates the end of the sequence;
    // throwing an error will result in a reject;
}

function dest(index, data, delay) {
    console.log('LOG:', index, data, delay);
}

sequence(source, {dest: dest, track: true})
    .then(data => {
        console.log('DATA:', data); // print result;
    });
</code></pre>
<p>Output:</p>
<pre class="prettyprint source"><code>LOG: 0 zero undefined
LOG: 1 one 8
LOG: 2 two 1
LOG: 3 three 0
DATA: [ 'zero', 'one', 'two', 'three' ]
</code></pre>
<p>And if we run the same sequence without tracking (default):</p>
<pre class="prettyprint source lang-js"><code>sequence(source, {dest: dest})
    .then(data => {
        console.log('DATA:', data); // print result;
    });
</code></pre>
<p>then the output will change to:</p>
<pre class="prettyprint source"><code>LOG: 0 zero undefined
LOG: 1 one 8
LOG: 2 two 1
LOG: 3 three 0
DATA: { total: 4, duration: 10 }
</code></pre>
</article>

</section>

</div>

<br class="clear">

<footer>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"></script>
</body>
</html>